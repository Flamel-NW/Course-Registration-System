(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[194],{78451:function(ee,f,t){"use strict";t.r(f);var ae=t(71194),U=t(48889),te=t(53400),L=t(41505),ne=t(43358),T=t(34041),se=t(47673),u=t(50817),re=t(58024),g=t(91894),le=t(8963),B=t(42020),_e=t(57663),m=t(71577),ie=t(49111),A=t(19650),R=t(11849),_=t(39428),h=t(3182),de=t(9715),r=t(71257),c=t(2824),W=t(30381),P=t.n(W),E=t(67294),b=t(49101),K=t(25592),D=t(11595),e=t(85893),S=function(){var F=(0,E.useState)(0),C=(0,c.Z)(F,2),M=C[0],O=C[1],Y=(0,E.useState)([]),y=(0,c.Z)(Y,2),I=y[0],N=y[1],$=(0,E.useState)({}),j=(0,c.Z)($,2),x=j[0],w=j[1],k=r.Z.useForm(),V=(0,c.Z)(k,1),v=V[0],p=function(){var s=(0,h.Z)((0,_.Z)().mark(function n(){var a;return(0,_.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,D.HP)();case 2:a=d.sent,a!=null&&a.data&&N(a.data);case 4:case"end":return d.stop()}},n)}));return function(){return s.apply(this,arguments)}}();(0,E.useEffect)((0,h.Z)((0,_.Z)().mark(function s(){return(0,_.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:p();case 1:case"end":return a.stop()}},s)})),[]);var z=function(){var s=(0,h.Z)((0,_.Z)().mark(function n(a){var i;return(0,_.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,D.Q2)(parseInt(a.id.slice(-6)));case 2:i=o.sent,p();case 4:case"end":return o.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),G=function(n){var a=I.find(function(i){return i.id===parseInt(n.id.slice(-6))});w(a),v.setFieldsValue({name:a.name,sex:a.sex,department:a.department,phoneNumber:a.phoneNumber,password:a.password,birthDate:P()(a.birthDate,"YYYY-MM-DD"),salary:a.salary}),O(2)},H=I.map(function(s){var n=(0,R.Z)({},s);return n.sex=s.sex?"\u5973":"\u7537",n.id="T"+("000000"+s.id).slice(-6),n}),J=[{title:"\u6559\u5E08\u7F16\u53F7",dataIndex:"id",key:"id"},{title:"\u59D3\u540D",dataIndex:"name",key:"name"},{title:"\u6027\u522B",dataIndex:"sex",key:"sex"},{title:"\u5B66\u9662",dataIndex:"department",key:"department"},{title:"\u7535\u8BDD\u53F7",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"\u51FA\u751F\u65E5\u671F",dataIndex:"birthDate",key:"birthDate"},{title:"\u85AA\u6C34(\u5143/\u6708)",dataIndex:"salary",key:"salary"},{title:"\u64CD\u4F5C",key:"action",render:function(n,a){return(0,e.jsxs)(A.Z,{size:"middle",children:[(0,e.jsx)("a",{onClick:function(){return G(a)},children:"Update"}),(0,e.jsx)("a",{onClick:function(){return z(a)},style:{color:"red"},children:"Delete"})]})}}],Q=function(){O(1),v.setFieldsValue({name:"",sex:!1,department:"Computer Science and Technology",phoneNumber:"",password:"",birthDate:P()("1980-01-01","YYYY-MM-DD"),salary:12e3})},X=function(){var s=(0,h.Z)((0,_.Z)().mark(function n(a){var i,d;return(0,_.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a.birthDate=a.birthDate.format("YYYY-MM-DD"),M!==1){l.next=7;break}return l.next=4,(0,D.uh)(a);case 4:i=l.sent,l.next=11;break;case 7:return a.id=x.id,l.next=10,(0,D.Jn)(a);case 10:d=l.sent;case 11:p();case 12:case"end":return l.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),Z=function(){O(0)},q=function(n){return n&&n>P()().endOf("day")};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.Z,{title:"Teacher List",extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(m.Z,{type:"primary",ghost:!0,onClick:Q,style:{marginRight:"0.5rem",fontWeight:"bold"},children:["Add",(0,e.jsx)(b.Z,{})]}),(0,e.jsx)(m.Z,{type:"primary",ghost:!0,onClick:p,children:(0,e.jsx)(K.Z,{})})]}),style:{width:"100%",height:"100%"},children:(0,e.jsx)(B.Z,{dataSource:H,columns:J})}),(0,e.jsx)(U.Z,{title:M===1?"Add Teacher":"Update Teacher T"+("000000"+x.id).slice(-6),open:M!==0,onCancel:Z,footer:null,children:(0,e.jsxs)(r.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},form:v,onFinish:X,autoComplete:"off",children:[(0,e.jsx)(r.Z.Item,{label:"Teacher Name",name:"name",rules:[{required:!0,message:"Please input the name!"}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"Department",name:"department",rules:[{required:!0,message:"Please choose the department!"}],children:(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(Option,{value:"Computer Science and Technology",children:"Computer Science and Technology"}),(0,e.jsx)(Option,{value:"Electronic Information",children:"Electronic Information"}),(0,e.jsx)(Option,{value:"Software",children:"Software"}),(0,e.jsx)(Option,{value:"Math",children:"Math"})]})}),(0,e.jsx)(r.Z.Item,{label:"PhoneNumber",name:"phoneNumber",rules:[{required:!0,pattern:/^\d+$/,message:"Please input valid PhoneNumber(consisting of number)!"}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"Teacher Password",name:"password",rules:[{required:!0,message:"Please input the password!"}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"BirthDate",name:"birthDate",rules:[{required:!0,message:"Please choose the BirthDate!"}],children:(0,e.jsx)(L.Z,{disabledDate:q})}),(0,e.jsx)(r.Z.Item,{label:"Salary",name:"salary",rules:[{required:!0,pattern:/^\d+$/,message:"Please input valid Salary(consisting of number)!"}],children:(0,e.jsx)(u.Z,{style:{width:"50%"}})}),(0,e.jsx)(r.Z.Item,{label:"Teacher gender",name:"sex",rules:[{required:!0,message:"Please input the name!"}],children:(0,e.jsxs)(T.Z,{style:{width:"50%"},children:[(0,e.jsx)(Option,{value:!1,children:"man"}),(0,e.jsx)(Option,{value:!0,children:"woman"})]})}),(0,e.jsxs)(r.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,e.jsx)(m.Z,{type:"primary",htmlType:"submit",style:{marginRight:"1rem"},children:"Submit"}),(0,e.jsx)(m.Z,{type:"primary",ghost:!0,onClick:Z,children:"cancel"})]})]})})]})};f.default=S}}]);
